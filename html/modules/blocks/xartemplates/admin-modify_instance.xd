<table border="0" width="100%">
    <tr>
        <th colspan="4" align="center">
            Blocks Administration
        </th>
    </tr>
    <tr align="center">
        <td align="center">
        
        </td>
        <td align="center">
            <a href="&xar-modurl-blocks-admin-new_instance;">New block instance</a>
        </td>
        <td align="center">
            <a href="&xar-modurl-blocks-admin-new_group;">New block group</a>
        </td>
        <td align="center">
        
        </td>
    </tr>
    <tr align="center">
        <td align="center" width="25%">
            <a href="&xar-modurl-blocks-admin-view_types;">View block types</a>
        </td>
        <td align="center" width="25%">
            <a href="&xar-modurl-blocks-admin-view_instances;">View block instances</a>
        </td>
        <td align="center" width="25%">
            <a href="&xar-modurl-blocks-admin-view_groups;">View block groups</a>
        </td>
        <td align="center" width="25%">
            <a href="&xar-modurl-blocks-admin-settings;">General settings</a>
        </td>
    </tr>
</table><br />
<center>Modify block instance</center><br />

<center>
<form method="post" action="&xar-modurl-blocks-admin-update_instance;">
    <input type="hidden" name="authid" value="&xar-var-authid;" />
    <input type="hidden" name="bid" value="&xar-var-bid;" />
    
    <table border="0" width="300">
        <tr>
            <td>
                Title:
            </td>
            <td>
                <input type="text" name="block_title" value="&xar-var-instance.title;" length="40" maxlength="255" style="width:150px;" />
            </td>
        </tr>
        <tr>
            <td>
                Type:
            </td>
            <td>
                &xar-var-instance.module;\&xar-var-instance.type;
            </td>
        </tr>
        <tr>
            <td>
                Group:
            </td>
            <td>
                <select name="block_group" style="width:150px;">
                    <xar:loop name="$block_groups">
                        <xar:if condition="$instance['group_id'] eq $id">
                            <option value="&xar-var-id;" selected="selected">
                        <xar:else />
                            <option value="&xar-var-id;">
                        </xar:if>
                        &xar-var-name;
                        </option>
                    </xar:loop>                
                </select>
            </td>
        </tr>
        <tr>
            <td>
                Refresh:
            </td>
            <td>
                <select name="block_refresh" style="width:150px;">
                    <xar:loop name="$refresh_times">
                        <xar:if condition="$instance['refresh'] eq $id">
                            <option value="&xar-var-id;" selected="selected">
                        <xar:else />
                            <option value="&xar-var-id;">
                        </xar:if>
                        <xar:var name="$name" />
                        </option>
                    </xar:loop>
                </select>
            </td>
        </tr>
        <tr>
            <td>
                Template (optional):
            </td>
            <td>
                <input type="text" name="block_template" value="<xar:var name="$instance.template" />" length="40" maxlength="255" style="width:150px;" />
            </td>
        </tr>
        <tr>
            <td>
                Default state:
            </td>
            <td>
                <select name="block_state" style="width:150px;">
                    <xar:if condition="$instance['state'] eq 0">
                        <option value="0" selected="selected">
                    <xar:else />
                        <option value="0">
                    </xar:if>
                    Hidden</option>
                    <xar:if condition="$instance['state'] eq 1">
                        <option value="1" selected="selected">
                    <xar:else />
                        <option value="1">
                    </xar:if>
                    Minimized</option>
                    <xar:if condition="$instance['state'] eq 2">
                        <option value="2" selected="selected">
                    <xar:else />
                        <option value="2">
                    </xar:if>
                    Maximized</option>
                </select>
            </td>
        </tr>
        <xar:if condition="isset($block_settings['form_content']) and $block_settings['form_content'] eq true">
        <tr>
            <td colspan="2">
                Content:
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <textarea name="block_content" style="width:300px;height:150px;"><xar:var name="$instance.content" /></textarea>
            </td>
        </tr>
        </xar:if>
        <xar:var name="$extra_fields" />
        <tr>
            <td colspan="2" align="center"><br />
                    <input type="submit" value="OK" align="middle" />
                    <input type="submit" name="cancel" value="Cancel" align="middle" />
            </td>
        </tr>
    </table>
</form>
</center>
