<div class="xar-mod-head"><span class="xar-mod-title"><xar:mlstring>Administration - Modules System</xar:mlstring></span></div>
<div class="xar-mod-body">
    <h2><xar:mlstring>Module Hooks Configuration</xar:mlstring></h2>
    <p><xar:mlstring>Extend the functionality of your modules via one of the following available hooks :</xar:mlstring></p>
    <p><xar:mlstring>Select the hook module providing the extra functionality and then check the boxes of the modules you would like to enable that functionality in. (e.g. select "comments" and then check "articles" to enable comments in the articles module)</xar:mlstring></p>
    <ul>
    <xar:loop name="$hookmodules">
        <li><a href="#$modlink#">#$modname#</a> : #$modtitle#</li>
        <xar:if condition="$modname eq $curhook">
            <xar:mlstring>Use this functionality in the following modules</xar:mlstring>: [ <a href="#$DetailsURL#">#$DetailsLabel#</a> ]<br />
            <xar:if condition="count($hooktypes) gt 0">
                <br />
                <xar:mlstring>This module offers the following hooks</xar:mlstring>:<br />
                <ul>
                <xar:loop name="$hooktypes">
                    <li>#$hooktype#</li>
                </xar:loop>
                </ul>
            </xar:if>
            <form action="&xar-modurl-modules-admin-updatehooks;" method="post">
                <input type="hidden" name="authid" id="authid" value="#$authid#" />
                <input type="hidden" name="curhook" id="curhook" value="#$curhook#" />
                <xar:loop name="$hookedmodules">
                    <xar:if condition="!empty($header)">
                        <br /><b>#$header#</b><br />
                    </xar:if>
                    <xar:if condition="!empty($checked[0])">
                        <input type="checkbox" name="hooked_#$name#[0]" id="hooked_#$name#[0]" value="1" checked="checked" style="vertical-align: middle;" />
                    <xar:else />
                        <input type="checkbox" name="hooked_#$name#[0]" id="hooked_#$name#[0]" value="1" style="vertical-align: middle;" />
                    </xar:if>
                    <label for="hooked_#$name#[0]">#$name# : #$description#</label><br />
                    <div style="padding-left: 2em;">
                    <xar:foreach in="$itemtypes" key="$typeid" value="$itemtype">
                        &nbsp;&nbsp;
                        <xar:if condition="!empty($checked[$typeid])">
                            <input type="checkbox" name="hooked_#$name#[#$typeid#]" id="hooked_#$name#[#$typeid#]" value="1" checked="checked" style="vertical-align: middle;" />
                        <xar:else />
                            <input type="checkbox" name="hooked_#$name#[#$typeid#]" id="hooked_#$name#[#$typeid#]" value="1" style="vertical-align: middle;" />
                        </xar:if>
                        <label for="hooked_#$name#[#$typeid#]">#$itemtype#</label><br />
                    </xar:foreach>
                    </div>
                </xar:loop>
                <br />
                <input type="submit" value="#$savechangeslabel#" />
            </form>
        </xar:if>
    </xar:loop>
    </ul>
</div>
